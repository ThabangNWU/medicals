<html class="no-js" lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Thogwa Medicals: Shop</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="shortcut icon" type="img/Thogwa medicals project/Thogwa Medicals logo .jpg"
        href="/img/images/medical-logo.jpg">

  <!-- Place favicon.ico in the root directory -->

  <!-- CSS here -->
  <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
  <link rel="stylesheet" th:href="@{/css/animate.min.css}">
  <link rel="stylesheet" th:href="@{/css/magnific-popup.css}">
  <link rel="stylesheet" th:href="@{/css/fontawesome-all.min.css}">
  <link rel="stylesheet" th:href="@{/css/owl.carousel.min.css}">
  <link rel="stylesheet" th:href="@{/css/nice-select.css}">
  <link rel="stylesheet" th:href="@{/css/jquery-ui.css}">
  <link rel="stylesheet" th:href="@{/css/odometer.css}">
  <link rel="stylesheet" th:href="@{/css/aos.css}">
  <link rel="stylesheet" th:href="@{/css/slick.css}">
  <link rel="stylesheet" th:href="@{/css/default.css}">
  <link rel="stylesheet" th:href="@{/css/style.css}">
  <link rel="stylesheet" th:href="@{/css/checkout.css}">
  <link rel="stylesheet" th:href="@{/css/responsive.css}">
  <link rel="stylesheet" th:href="@{'css/login.css'}">

</head>
<body>
<!-- Preloader -->
<div id="preloader">
  <img src="img/logo/preloader.gif" alt="">
</div>
<!-- Preloader-end -->

<!-- Scroll-top -->
<button class="scroll-top scroll-to-target" data-target="html">
  <i class="fas fa-angle-up"></i>
</button>
<!-- Scroll-top-end-->

<!-- header-area -->
<div class="header-top">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-md-6">
        <div class="header-top-area">
          <div class="header-top-left-text">
            <p>We provides <span>best</span> medical accessories</p>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="header-top-right-text">
          <ul>
            <li><a th:href="@{/about-us}">About Us</a></li>
            <li><a th:href="@{/contact}">Contact</a></li>
            <li><a th:href="@{/contact}">FAQ</a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>

<div id="sticky-header" class="menu-area">
  <div class="container">
    <div class="mobile-nav-toggler"><i class="fas fa-bars"></i></div>
    <div class="menu-wrap">
      <nav class="menu-nav">
        <div class="row align-items-center">
          <div class="col-lg-5 d-none d-lg-block">
            <div class="navbar-wrap main-menu d-none d-lg-flex">
              <ul class="navigation">
                <li><a th:href="@{/}">Home</a></li>
                <li class="menu-item-has-children"><a href="#">Pages</a>
                  <ul class="sub-menu">
                    <li><a th:href="@{/about-us}">About Us</a></li>

                    <li><a th:href="@{/contact}">Contact Us</a></li>
                    <li><a th:href="@{/latest-News}">Latest News</a></li>
                  </ul>
                </li>
                <li><a th:href="@{/product}">Shop</a></li>
                <!-- <li class="active menu-item-has-children"><a href="shop.html">Shop</a> -->
                <ul class="sub-menu">

                </ul>
                </li>
                <li><a th:href="@{/login}">Sign In</a></li>

              </ul>
            </div>
          </div>
          <div class="col-lg-2 col-md-3">
            <div class="logo">
              <a th:href="@{/}">
                <img th:src="@{'/img/Thogwa medicals project/Thogwa Medicals logo .jpg'}" alt="">
              </a>
            </div>
          </div>
          <div class="col-lg-5 col-md-9">
            <div class="header-action">
              <ul>
                <li class="header-search">
                  <form th:action="@{/product/search}" method="get">
                    <button type="submit"><i class="fas fa-search"></i></button>
                    <input type="text" name="name" placeholder="Search for products"
                           th:value="${name}">
                  </form>
                </li>
                <!--                                            <li class="header-user d-none d-md-block">-->
                <!--                                                <a href="/contact"><i class="far fa-user"></i></a>-->
                <!--                                            </li>-->
                <li class="header-user d-none d-md-block">

                  <a class=" d-none d-md-block" href="#" data-bs-toggle="dropdown">
                    <i class="far fa-user"></i>
                  </a><!-- End Profile Iamge Icon -->

                  <ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow profile">
                    <!--                                                    <li class="dropdown-header">-->
                    <!--                                                        <h6>Kevin Anderson</h6>-->
                    <!--                                                        <span>Web Designer</span>-->
                    <!--                                                    </li>-->
                    <!--                                                    <li>-->
                    <!--                                                        <hr class="dropdown-divider">-->
                    <!--                                                    </li>-->

                    <li>
                      <a class="dropdown-item d-flex align-items-center"
                         th:href="@{/thogwa-order}">
                        <i class="bi bi-person"></i>
                        <span>Your Orders</span>
                      </a>
                    </li>
                    <li>
                      <hr class="dropdown-divider">
                    </li>

                    <li>
                      <a class="dropdown-item d-flex align-items-center"
                         href="users-profile.html">
                        <i class="bi bi-gear"></i>
                        <span>Account Settings</span>
                      </a>
                    </li>
                    <li>
                      <hr class="dropdown-divider">
                    </li>

                    <li>
                      <a class="dropdown-item d-flex align-items-center" href="pages-faq.html">
                        <i class="bi bi-question-circle"></i>
                        <span>Need Help?</span>
                      </a>
                    </li>
                    <li>
                      <hr class="dropdown-divider">
                    </li>

                    <li>
                      <a class="dropdown-item d-flex align-items-center" th:href="@{/logout}">
                        <i class="bi bi-box-arrow-right"></i>
                        <span>Sign Out</span>
                      </a>
                    </li>

                  </ul><!-- End Profile Dropdown Items -->
                </li><!-- End Profile Nav -->
                <li class="header-shop-cart d-none d-md-flex">
                  <a href="#">
                    <img src="img/icon/shape-img.png" alt="">
                    <span class="cart-count">0</span>
                  </a>
                  <span class="cart-price">R0.00</span>
                  <ul id="minicart" class="minicart" style="overflow-y: auto; max-height: 627.725px;">

                  </ul>
                </li>

              </ul>
            </div>
          </div>
        </div>
      </nav>
    </div>
    <!-- Mobile Menu  -->
    <div class="mobile-menu">
      <nav class="menu-box">
        <div class="close-btn"><i class="fas fa-times"></i></div>
        <div class="nav-logo"><a th:href="@{/}"><img th:src="@{'/img/logo/Thogwa Medicals logo .jpg'}" alt=""
                                                     title=""></a>
        </div>
        <div class="menu-outer">
          <!--Here Menu Will Come Automatically Via Javascript / Same Menu as in Header-->
        </div>
        <div class="social-links">
          <ul class="clearfix">
            <li><a href="#"><span class="fab fa-twitter"></span></a></li>
            <li><a href="#"><span class="fab fa-facebook-square"></span></a></li>
            <li><a href="#"><span class="fab fa-pinterest-p"></span></a></li>
            <li><a href="#"><span class="fab fa-instagram"></span></a></li>
            <li><a href="#"><span class="fab fa-youtube"></span></a></li>
          </ul>
        </div>
      </nav>
    </div>
    <div class="menu-backdrop"></div>
    <!-- End Mobile Menu -->
  </div>
</div>
<div class="header-category d-none d-lg-block">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <div class="header-category-wrap">
          <div class="header-cat-list">
            <ul>
              <li th:each="header : ${headers}">
                <a href="#" th:text="${header.name}"></a>
                <div class="dropdown">
                  <div class="row main-dropdown">
                    <div class="col-md-4 box drop1">
                      <ul th:if="${header.id == selectedHeaderId}"
                          th:each="category : ${categories}">
                        <li>
                          <a href="#" th:text="${category.name}"></a>
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>
              </li>
            </ul>


          </div>
          <div class="header-category-btn">
            <a href="/shop">GET 5% OFF NOW</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
</header>
<!-- header-area-end -->

<div class="checkout">
  <div class="container">
    <div class="row">
      <div class="col-sm-12">
        <p style="background-color: red; padding: 20px; border: 1px solid #ccc; text-align:center; font-size:26px;color:#fff"> Payment Failed</p>
      </div>
      <div class="col-sm-12 col-md-6 checkout__order">
        <div class='order-info'>
          <div class='order-info-content'>
            <h2>Order Summary</h2>
            <div class='line'></div>


            <table class='order-table'></table>
          </div>
        </div>

      </div>
    </div>
  </div>

</div>
</section>
<!-- core-features-area-end -->
<footer>
  <div class="footer-top-wrap">
    <div class="container">
      <div class="row justify-content-between">
        <div class="col-xl-4 col-lg-4 col-md-8 col-sm-8">
          <div class="footer-widget">
            <div class="fw-img">
              <img th:src="@{/img/Thogwa medicals project/Thogwa Medicals logo .jpg}" alt="">
            </div>
            <div class="fw-link">
              <p>We are a proudly South African company that is strategically positioned to cater to
                the country, by supplying quality medical and pharmaceutical equipment while
                empowering black communities through job creation and skill development.</p>
            </div>
          </div>
        </div>
        <!-- <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6">
            <div class="footer-widget">
                <h4 class="fw-title">Quick Links:</h4>
                <div class="fw-link">
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="about-us.html">About Us</a></li>
                        <li><a href="contact.html">Contact Us</a></li>
                        <li><a href="shop.html">Shop</a></li>
                        <li><a href="#">Private Policy</a></li>
                    </ul>
                </div>
            </div>
        </div> -->
        <div class="col-xl-4 col-lg-4 col-md-8 col-sm-8 cont">
          <div class="footer-widget">
            <h4 class="fw-title">Contact Us</h4>
            <div class="fw-link">
              <div class="content">
                <p><strong>Office: </strong>+27 (12) 023 0791</p>
                <p><strong>Mobile: </strong>+27 (61) 418 7600</p>
              </div>
              <div class="content">
                <p><strong>Email: </strong>admin@thogwamedicals.com</p>
                <p><strong>Alternative Email: </strong>rendani@thogwamedicals.com</p>
              </div>
              <div class="content">
                <p><strong>Address:</strong> Tiger Valley Office Park, Suite 1, Building 88D, Silver
                  lakes Road, Pretoria, 0081</p>
              </div>
            </div>
          </div>
        </div>
        <div class="col-xl-3 col-lg-4 col-md-6 col-sm-8">
          <div class="footer-widget">
            <h4 class="fw-title">Subscribe Our Newsletter</h4>
            <div class="f-newsletter">
              <p>Get a free subscription to our latest news</p>
              <form action="#" class="newsletter-form">
                <input type="text" placeholder="Enter Your Email Address">
                <button><i class="fas fa-rocket"></i></button>
              </form>
            </div>
            <div class="fw-download-btn">
              <a href="#"><img th:src="@{/img/icon/download_btn01.png}" alt=""></a>
              <a href="#"><img th:src="@{/img/icon/download_btn02.png}" alt=""></a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="container">
    <div class="footer-counter-wrap">
      <div class="row">
        <div class="col-12">
          <div class="fcw-title text-center mb-45">
            <h4 class="title">world LARGEST medicals and pharmacueticals PLATFORM</h4>
          </div>
        </div>
      </div>
      <div class="row justify-content-center">
        <div class="col-lg-3 col-md-3 col-sm-4">
          <div class="counter-item mb-30">
            <h2 class="count"><span class="odometer" data-count="160"></span>M+</h2>
            <p>Visitors</p>
          </div>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-4">
          <div class="counter-item mb-30">
            <h2 class="count"><span class="odometer" data-count="27"></span>M+</h2>
            <p>Orders Delivered</p>
          </div>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-4">
          <div class="counter-item mb-30">
            <h2 class="count"><span class="odometer" data-count="190"></span>K+</h2>
            <p>Cities</p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="copyright-area">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-md-6">
          <div class="copyright-text">
            <p>Copyright © 2023 MACT TECH. All Rights Reserved</p>
          </div>
        </div>
        <div class="col-md-6">
          <div class="payment-method-img text-center text-md-right">
            <img th:src="@{/img/images/card.png}" alt="">
          </div>
        </div>
      </div>
    </div>
  </div>

</footer>
<!-- footer-area-end -->

<script th:src="@{/js/vendor/jquery-3.5.0.min.js}"></script>
<script th:src="@{/js/bootstrap.min.js}"></script>
<script th:src="@{/js/isotope.pkgd.min.js}"></script>
<script th:src="@{/js/imagesloaded.pkgd.min.js}"></script>
<script th:src="@{/js/jquery.magnific-popup.min.js}"></script>
<script th:src="@{/js/owl.carousel.min.js}"></script>
<script th:src="@{/js/jquery.odometer.min.js}"></script>
<script th:src="@{/js/jquery.nice-select.min.js}"></script>
<script th:src="@{/js/jquery.countdown.min.js}"></script>
<script th:src="@{/js/jquery.easypiechart.min.js}"></script>
<script th:src="@{/js/jquery.inview.min.js}"></script>
<script th:src="@{/js/jquery.appear.js}"></script>
<script th:src="@{/js/slick.min.js}"></script>
<script th:src="@{/js/jquery-ui.min.js}"></script>
<script th:src="@{/js/ajax-form.js}"></script>
<script th:src="@{/js/wow.min.js}"></script>
<script th:src="@{/js/aos.js}"></script>
<script th:src="@{/js/plugins.js}"></script>
<script th:src="@{/js/main.js}"></script>
<script th:src="@{/js/log-res.js}"></script>
<script th:inline="javascript">
    document.addEventListener('DOMContentLoaded', function () {
        var cartSummary = localStorage.getItem("order") || "[]";
        cartSummary = JSON.parse(cartSummary);

        var orderInfo = document.querySelector('.order-info-content');
        orderInfo.innerHTML = '';

        cartSummary.forEach(function (item, index) {
            var orderTable = document.createElement('table');
            orderTable.classList.add('order-table');

            var tbody = document.createElement('tbody');

            var row1 = document.createElement('tr');
            var imgCell = document.createElement('td');
            var img = document.createElement('img');
            img.src = '/images/' + item.productImageName;
            img.classList.add('full-width');
            imgCell.appendChild(img);
            row1.appendChild(imgCell);

            var infoCell = document.createElement('td');
            infoCell.innerHTML = `<br> <span class='thin'>${item.productName}</span>
                                        <br>Quantity:  ${item.quantity}<br> <span class='thin small'>Normal Price: ${item.product}<br><br></span>`;
            row1.appendChild(infoCell);

            tbody.appendChild(row1);

            var row2 = document.createElement('tr');
            var priceCell = document.createElement('td');

            if (item.totalItemPrice !== undefined) {
                priceCell.innerHTML = `<div class='price'>$${item.totalItemPrice.toFixed(2)}</div>`;
            } else {
                console.error("totalItemPrice is undefined for item:", item);
            }

            row2.appendChild(priceCell);

            tbody.appendChild(row2);

            orderTable.appendChild(tbody);
            orderInfo.appendChild(orderTable);

            // Add lines between tables
            if (index < cartSummary.length - 1) {
                var line = document.createElement('div');
                line.classList.add('line');
                orderInfo.appendChild(line);
            }
        });

        // Add the total section
        var totalSection = document.createElement('div');
        totalSection.classList.add('total');
        totalSection.innerHTML = `<span style='float:left;'>
<!--                                    <div class='thin dense'>VAT 19%</div>-->
<!--                                    <div class='thin dense'>Delivery</div>-->
<!--                                    TOTAL-->
                                </span>
                                <span style='float:right; text-align:right;'>
<!--                                    <div class='thin dense'>$68.75</div>-->
<!--                                    <div class='thin dense'>$4.95</div>-->
<!--                                    $${calculateTotal(cartSummary).toFixed(2)}-->
                                </span>`;

        orderInfo.appendChild(totalSection);

        function calculateTotal(cartSummary) {
            return cartSummary.reduce(function (acc, item) {
                return acc + (item.totalItemPrice || 0);
            }, 0);
        }
    });
</script>

<script th:inline="javascript">
        document.addEventListener("DOMContentLoaded", function() {
            let cartItems = localStorage.getItem('order');
            if (cartItems) {
                let parsedCartItems = JSON.parse(cartItems);
                console.log('Parsed Cart Items:', parsedCartItems.productID);

                fetch('/add-to-order', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(parsedCartItems)
                })
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    return response.json();
                })
                .then(data => {
                    console.log('Cart items saved successfully:', data);
                })
                .catch(error => {
                    console.error('There was a problem with the fetch operation:', error);
                });
            }
        });


</script>


<script src="https://kit.fontawesome.com/5dd83d6fa5.js" crossorigin="anonymous"></script>
<script th:src="@{/js/main.js}"></script>
</body>
</html>